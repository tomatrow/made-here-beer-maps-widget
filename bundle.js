var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};function e(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}var i=function(){return(i=Object.assign||function(t){for(var e,i=1,r=arguments.length;i<r;i++)for(var s in e=arguments[i])Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t}).apply(this,arguments)};var r=function t(){!function(t,e){for(var i in e.prototype)t.prototype[i]=e.prototype[i]}(t,google.maps.OverlayView)};function s(t){return Object.keys(t).reduce((function(e,i){return t[i]&&e.push(i+":"+t[i]),e}),[]).join(";")}function n(t){return t?t+"px":void 0}var o=function(t){function r(e,i){var r=t.call(this)||this;return r.cluster_=e,r.styles_=i,r.center_=null,r.div_=null,r.sums_=null,r.visible_=!1,r.style=null,r.setMap(e.getMap()),r}return e(r,t),r.prototype.onAdd=function(){var t,e,i=this,r=this.cluster_.getMarkerClusterer(),s=google.maps.version.split("."),n=s[0],o=s[1],a=100*parseInt(n,10)+parseInt(o,10);this.div_=document.createElement("div"),this.visible_&&this.show(),this.getPanes().overlayMouseTarget.appendChild(this.div_),this.boundsChangedListener_=google.maps.event.addListener(this.getMap(),"bounds_changed",(function(){e=t})),google.maps.event.addDomListener(this.div_,"mousedown",(function(){t=!0,e=!1})),a>=332&&google.maps.event.addDomListener(this.div_,"touchstart",(function(t){t.stopPropagation()})),google.maps.event.addDomListener(this.div_,"click",(function(s){if(t=!1,!e){if(google.maps.event.trigger(r,"click",i.cluster_),google.maps.event.trigger(r,"clusterclick",i.cluster_),r.getZoomOnClick()){var n=r.getMaxZoom(),o=i.cluster_.getBounds();r.getMap().fitBounds(o),setTimeout((function(){r.getMap().fitBounds(o),null!==n&&r.getMap().getZoom()>n&&r.getMap().setZoom(n+1)}),100)}s.cancelBubble=!0,s.stopPropagation&&s.stopPropagation()}})),google.maps.event.addDomListener(this.div_,"mouseover",(function(){google.maps.event.trigger(r,"mouseover",i.cluster_)})),google.maps.event.addDomListener(this.div_,"mouseout",(function(){google.maps.event.trigger(r,"mouseout",i.cluster_)}))},r.prototype.onRemove=function(){this.div_&&this.div_.parentNode&&(this.hide(),google.maps.event.removeListener(this.boundsChangedListener_),google.maps.event.clearInstanceListeners(this.div_),this.div_.parentNode.removeChild(this.div_),this.div_=null)},r.prototype.draw=function(){if(this.visible_){var t=this.getPosFromLatLng_(this.center_);this.div_.style.top=t.y+"px",this.div_.style.left=t.x+"px"}},r.prototype.hide=function(){this.div_&&(this.div_.style.display="none"),this.visible_=!1},r.prototype.show=function(){this.div_&&(this.div_.className=this.className_,this.div_.style.cssText=this.createCss_(this.getPosFromLatLng_(this.center_)),this.div_.innerHTML=(this.style.url?this.getImageElementHtml():"")+this.getLabelDivHtml(),void 0===this.sums_.title||""===this.sums_.title?this.div_.title=this.cluster_.getMarkerClusterer().getTitle():this.div_.title=this.sums_.title,this.div_.style.display=""),this.visible_=!0},r.prototype.getLabelDivHtml=function(){return'\n<div aria-label="'+this.cluster_.getMarkerClusterer().ariaLabelFn(this.sums_.text)+'" style="'+s({position:"absolute",top:n(this.anchorText_[0]),left:n(this.anchorText_[1]),color:this.style.textColor,"font-size":n(this.style.textSize),"font-family":this.style.fontFamily,"font-weight":this.style.fontWeight,"font-style":this.style.fontStyle,"text-decoration":this.style.textDecoration,"text-align":"center",width:n(this.style.width),"line-height":n(this.style.textLineHeight)})+'" tabindex="0">\n  <span aria-hidden="true">'+this.sums_.text+"</span>\n</div>\n"},r.prototype.getImageElementHtml=function(){var t=(this.style.backgroundPosition||"0 0").split(" "),e=parseInt(t[0].replace(/^\s+|\s+$/g,""),10),r=parseInt(t[1].replace(/^\s+|\s+$/g,""),10),o={};if(this.cluster_.getMarkerClusterer().getEnableRetinaIcons())o={width:n(this.style.width),height:n(this.style.height)};else{var a=[-1*r,-1*e+this.style.width,-1*r+this.style.height,-1*e];o={clip:"rect("+a[0]+"px, "+a[1]+"px, "+a[2]+"px, "+a[3]+"px)"}}var _=this.sums_.url?{width:"100%",height:"100%"}:{},l=s(i(i({position:"absolute",top:n(r),left:n(e)},o),_));return'<img alt="'+this.sums_.text+'" aria-hidden="true" src="'+this.style.url+'" style="'+l+'"/>'},r.prototype.useStyle=function(t){this.sums_=t;var e=Math.max(0,t.index-1);e=Math.min(this.styles_.length-1,e),this.style=this.sums_.url?i(i({},this.styles_[e]),{url:this.sums_.url}):this.styles_[e],this.anchorText_=this.style.anchorText||[0,0],this.anchorIcon_=this.style.anchorIcon||[Math.floor(this.style.height/2),Math.floor(this.style.width/2)],this.className_=this.cluster_.getMarkerClusterer().getClusterClass()+" "+(this.style.className||"cluster-"+e)},r.prototype.setCenter=function(t){this.center_=t},r.prototype.createCss_=function(t){return s({"z-index":""+this.cluster_.getMarkerClusterer().getZIndex(),top:n(t.y),left:n(t.x),width:n(this.style.width),height:n(this.style.height),cursor:"pointer",position:"absolute","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-o-user-select":"none","user-select":"none"})},r.prototype.getPosFromLatLng_=function(t){var e=this.getProjection().fromLatLngToDivPixel(t);return e.x=Math.floor(e.x-this.anchorIcon_[1]),e.y=Math.floor(e.y-this.anchorIcon_[0]),e},r}(r),a=function(){function t(t){this.markerClusterer_=t,this.map_=this.markerClusterer_.getMap(),this.minClusterSize_=this.markerClusterer_.getMinimumClusterSize(),this.averageCenter_=this.markerClusterer_.getAverageCenter(),this.markers_=[],this.center_=null,this.bounds_=null,this.clusterIcon_=new o(this,this.markerClusterer_.getStyles())}return t.prototype.getSize=function(){return this.markers_.length},t.prototype.getMarkers=function(){return this.markers_},t.prototype.getCenter=function(){return this.center_},t.prototype.getMap=function(){return this.map_},t.prototype.getMarkerClusterer=function(){return this.markerClusterer_},t.prototype.getBounds=function(){for(var t=new google.maps.LatLngBounds(this.center_,this.center_),e=this.getMarkers(),i=0;i<e.length;i++)t.extend(e[i].getPosition());return t},t.prototype.remove=function(){this.clusterIcon_.setMap(null),this.markers_=[],delete this.markers_},t.prototype.addMarker=function(t){if(this.isMarkerAlreadyAdded_(t))return!1;if(this.center_){if(this.averageCenter_){var e=this.markers_.length+1,i=(this.center_.lat()*(e-1)+t.getPosition().lat())/e,r=(this.center_.lng()*(e-1)+t.getPosition().lng())/e;this.center_=new google.maps.LatLng(i,r),this.calculateBounds_()}}else this.center_=t.getPosition(),this.calculateBounds_();t.isAdded=!0,this.markers_.push(t);var s=this.markers_.length,n=this.markerClusterer_.getMaxZoom();if(null!==n&&this.map_.getZoom()>n)t.getMap()!==this.map_&&t.setMap(this.map_);else if(s<this.minClusterSize_)t.getMap()!==this.map_&&t.setMap(this.map_);else if(s===this.minClusterSize_)for(var o=0;o<s;o++)this.markers_[o].setMap(null);else t.setMap(null);return!0},t.prototype.isMarkerInClusterBounds=function(t){return this.bounds_.contains(t.getPosition())},t.prototype.calculateBounds_=function(){var t=new google.maps.LatLngBounds(this.center_,this.center_);this.bounds_=this.markerClusterer_.getExtendedBounds(t)},t.prototype.updateIcon=function(){var t=this.markers_.length,e=this.markerClusterer_.getMaxZoom();if(null!==e&&this.map_.getZoom()>e)this.clusterIcon_.hide();else if(t<this.minClusterSize_)this.clusterIcon_.hide();else{var i=this.markerClusterer_.getStyles().length,r=this.markerClusterer_.getCalculator()(this.markers_,i);this.clusterIcon_.setCenter(this.center_),this.clusterIcon_.useStyle(r),this.clusterIcon_.show()}},t.prototype.isMarkerAlreadyAdded_=function(t){if(this.markers_.indexOf)return-1!==this.markers_.indexOf(t);for(var e=0;e<this.markers_.length;e++)if(t===this.markers_[e])return!0;return!1},t}(),_=function(t,e,i){return void 0!==t[e]?t[e]:i};!function(t){function r(e,i,s){void 0===i&&(i=[]),void 0===s&&(s={});var n=t.call(this)||this;return n.options=s,n.markers_=[],n.clusters_=[],n.listeners_=[],n.activeMap_=null,n.ready_=!1,n.ariaLabelFn=n.options.ariaLabelFn||function(){return""},n.zIndex_=n.options.zIndex||google.maps.Marker.MAX_ZINDEX+1,n.gridSize_=n.options.gridSize||60,n.minClusterSize_=n.options.minimumClusterSize||2,n.maxZoom_=n.options.maxZoom||null,n.styles_=n.options.styles||[],n.title_=n.options.title||"",n.zoomOnClick_=_(n.options,"zoomOnClick",!0),n.averageCenter_=_(n.options,"averageCenter",!1),n.ignoreHidden_=_(n.options,"ignoreHidden",!1),n.enableRetinaIcons_=_(n.options,"enableRetinaIcons",!1),n.imagePath_=n.options.imagePath||r.IMAGE_PATH,n.imageExtension_=n.options.imageExtension||r.IMAGE_EXTENSION,n.imageSizes_=n.options.imageSizes||r.IMAGE_SIZES,n.calculator_=n.options.calculator||r.CALCULATOR,n.batchSize_=n.options.batchSize||r.BATCH_SIZE,n.batchSizeIE_=n.options.batchSizeIE||r.BATCH_SIZE_IE,n.clusterClass_=n.options.clusterClass||"cluster",-1!==navigator.userAgent.toLowerCase().indexOf("msie")&&(n.batchSize_=n.batchSizeIE_),n.setupStyles_(),n.addMarkers(i,!0),n.setMap(e),n}e(r,t),r.prototype.onAdd=function(){var t=this;this.activeMap_=this.getMap(),this.ready_=!0,this.repaint(),this.prevZoom_=this.getMap().getZoom(),this.listeners_=[google.maps.event.addListener(this.getMap(),"zoom_changed",(function(){var e=t.getMap(),i=e.minZoom||0,r=Math.min(e.maxZoom||100,e.mapTypes[e.getMapTypeId()].maxZoom),s=Math.min(Math.max(t.getMap().getZoom(),i),r);t.prevZoom_!=s&&(t.prevZoom_=s,t.resetViewport_(!1))})),google.maps.event.addListener(this.getMap(),"idle",(function(){t.redraw_()}))]},r.prototype.onRemove=function(){for(var t=0;t<this.markers_.length;t++)this.markers_[t].getMap()!==this.activeMap_&&this.markers_[t].setMap(this.activeMap_);for(t=0;t<this.clusters_.length;t++)this.clusters_[t].remove();this.clusters_=[];for(t=0;t<this.listeners_.length;t++)google.maps.event.removeListener(this.listeners_[t]);this.listeners_=[],this.activeMap_=null,this.ready_=!1},r.prototype.draw=function(){},r.prototype.setupStyles_=function(){if(!(this.styles_.length>0))for(var t=0;t<this.imageSizes_.length;t++){var e=this.imageSizes_[t];this.styles_.push(r.withDefaultStyle({url:this.imagePath_+(t+1)+"."+this.imageExtension_,height:e,width:e}))}},r.prototype.fitMapToMarkers=function(t){for(var e=this.getMarkers(),i=new google.maps.LatLngBounds,r=0;r<e.length;r++)!e[r].getVisible()&&this.getIgnoreHidden()||i.extend(e[r].getPosition());this.getMap().fitBounds(i,t)},r.prototype.getGridSize=function(){return this.gridSize_},r.prototype.setGridSize=function(t){this.gridSize_=t},r.prototype.getMinimumClusterSize=function(){return this.minClusterSize_},r.prototype.setMinimumClusterSize=function(t){this.minClusterSize_=t},r.prototype.getMaxZoom=function(){return this.maxZoom_},r.prototype.setMaxZoom=function(t){this.maxZoom_=t},r.prototype.getZIndex=function(){return this.zIndex_},r.prototype.setZIndex=function(t){this.zIndex_=t},r.prototype.getStyles=function(){return this.styles_},r.prototype.setStyles=function(t){this.styles_=t},r.prototype.getTitle=function(){return this.title_},r.prototype.setTitle=function(t){this.title_=t},r.prototype.getZoomOnClick=function(){return this.zoomOnClick_},r.prototype.setZoomOnClick=function(t){this.zoomOnClick_=t},r.prototype.getAverageCenter=function(){return this.averageCenter_},r.prototype.setAverageCenter=function(t){this.averageCenter_=t},r.prototype.getIgnoreHidden=function(){return this.ignoreHidden_},r.prototype.setIgnoreHidden=function(t){this.ignoreHidden_=t},r.prototype.getEnableRetinaIcons=function(){return this.enableRetinaIcons_},r.prototype.setEnableRetinaIcons=function(t){this.enableRetinaIcons_=t},r.prototype.getImageExtension=function(){return this.imageExtension_},r.prototype.setImageExtension=function(t){this.imageExtension_=t},r.prototype.getImagePath=function(){return this.imagePath_},r.prototype.setImagePath=function(t){this.imagePath_=t},r.prototype.getImageSizes=function(){return this.imageSizes_},r.prototype.setImageSizes=function(t){this.imageSizes_=t},r.prototype.getCalculator=function(){return this.calculator_},r.prototype.setCalculator=function(t){this.calculator_=t},r.prototype.getBatchSizeIE=function(){return this.batchSizeIE_},r.prototype.setBatchSizeIE=function(t){this.batchSizeIE_=t},r.prototype.getClusterClass=function(){return this.clusterClass_},r.prototype.setClusterClass=function(t){this.clusterClass_=t},r.prototype.getMarkers=function(){return this.markers_},r.prototype.getTotalMarkers=function(){return this.markers_.length},r.prototype.getClusters=function(){return this.clusters_},r.prototype.getTotalClusters=function(){return this.clusters_.length},r.prototype.addMarker=function(t,e){this.pushMarkerTo_(t),e||this.redraw_()},r.prototype.addMarkers=function(t,e){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&this.pushMarkerTo_(t[i]);e||this.redraw_()},r.prototype.pushMarkerTo_=function(t){var e=this;t.getDraggable()&&google.maps.event.addListener(t,"dragend",(function(){e.ready_&&(t.isAdded=!1,e.repaint())})),t.isAdded=!1,this.markers_.push(t)},r.prototype.removeMarker=function(t,e){var i=this.removeMarker_(t);return!e&&i&&this.repaint(),i},r.prototype.removeMarkers=function(t,e){for(var i=!1,r=0;r<t.length;r++){var s=this.removeMarker_(t[r]);i=i||s}return!e&&i&&this.repaint(),i},r.prototype.removeMarker_=function(t){var e=-1;if(this.markers_.indexOf)e=this.markers_.indexOf(t);else for(var i=0;i<this.markers_.length;i++)if(t===this.markers_[i]){e=i;break}return-1!==e&&(t.setMap(null),this.markers_.splice(e,1),!0)},r.prototype.clearMarkers=function(){this.resetViewport_(!0),this.markers_=[]},r.prototype.repaint=function(){var t=this.clusters_.slice();this.clusters_=[],this.resetViewport_(!1),this.redraw_(),setTimeout((function(){for(var e=0;e<t.length;e++)t[e].remove()}),0)},r.prototype.getExtendedBounds=function(t){var e=this.getProjection(),i=new google.maps.LatLng(t.getNorthEast().lat(),t.getNorthEast().lng()),r=new google.maps.LatLng(t.getSouthWest().lat(),t.getSouthWest().lng()),s=e.fromLatLngToDivPixel(i);s.x+=this.gridSize_,s.y-=this.gridSize_;var n=e.fromLatLngToDivPixel(r);n.x-=this.gridSize_,n.y+=this.gridSize_;var o=e.fromDivPixelToLatLng(s),a=e.fromDivPixelToLatLng(n);return t.extend(o),t.extend(a),t},r.prototype.redraw_=function(){this.createClusters_(0)},r.prototype.resetViewport_=function(t){for(var e=0;e<this.clusters_.length;e++)this.clusters_[e].remove();this.clusters_=[];for(e=0;e<this.markers_.length;e++){var i=this.markers_[e];i.isAdded=!1,t&&i.setMap(null)}},r.prototype.distanceBetweenPoints_=function(t,e){var i=(e.lat()-t.lat())*Math.PI/180,r=(e.lng()-t.lng())*Math.PI/180,s=Math.sin(i/2)*Math.sin(i/2)+Math.cos(t.lat()*Math.PI/180)*Math.cos(e.lat()*Math.PI/180)*Math.sin(r/2)*Math.sin(r/2);return 6371*(2*Math.atan2(Math.sqrt(s),Math.sqrt(1-s)))},r.prototype.isMarkerInBounds_=function(t,e){return e.contains(t.getPosition())},r.prototype.addToClosestCluster_=function(t){for(var e=4e4,i=null,r=0;r<this.clusters_.length;r++){var s,n=(s=this.clusters_[r]).getCenter();if(n){var o=this.distanceBetweenPoints_(n,t.getPosition());o<e&&(e=o,i=s)}}i&&i.isMarkerInClusterBounds(t)?i.addMarker(t):((s=new a(this)).addMarker(t),this.clusters_.push(s))},r.prototype.createClusters_=function(t){var e=this;if(this.ready_){var i;0===t&&(google.maps.event.trigger(this,"clusteringbegin",this),void 0!==this.timerRefStatic&&(clearTimeout(this.timerRefStatic),delete this.timerRefStatic)),i=this.getMap().getZoom()>3?new google.maps.LatLngBounds(this.getMap().getBounds().getSouthWest(),this.getMap().getBounds().getNorthEast()):new google.maps.LatLngBounds(new google.maps.LatLng(85.02070771743472,-178.48388434375),new google.maps.LatLng(-85.08136444384544,178.00048865625));for(var r=this.getExtendedBounds(i),s=Math.min(t+this.batchSize_,this.markers_.length),n=t;n<s;n++){var o=this.markers_[n];!o.isAdded&&this.isMarkerInBounds_(o,r)&&(!this.ignoreHidden_||this.ignoreHidden_&&o.getVisible())&&this.addToClosestCluster_(o)}if(s<this.markers_.length)this.timerRefStatic=window.setTimeout((function(){e.createClusters_(s)}),0);else{delete this.timerRefStatic,google.maps.event.trigger(this,"clusteringend",this);for(n=0;n<this.clusters_.length;n++)this.clusters_[n].updateIcon()}}},r.CALCULATOR=function(t,e){for(var i=0,r=t.length,s=r;0!==s;)s=Math.floor(s/10),i++;return i=Math.min(i,e),{text:r.toString(),index:i,title:""}},r.withDefaultStyle=function(t){return i({textColor:"black",textSize:11,textDecoration:"none",textLineHeight:t.height,fontWeight:"bold",fontStyle:"normal",fontFamily:"Arial,sans-serif",backgroundPosition:"0 0"},t)},r.BATCH_SIZE=2e3,r.BATCH_SIZE_IE=500,r.IMAGE_PATH="../images/m",r.IMAGE_EXTENSION="png",r.IMAGE_SIZES=[53,56,66,78,90]}(r);class l{constructor(t,e,i,r,s){this.latitudeLo=t,this.longitudeLo=e,this.latitudeHi=i,this.longitudeHi=r,this.codeLength=s,this.latitudeCenter=Math.min(t+(i-t)/2,90),this.longitudeCenter=Math.min(e+(r-e)/2,180)}getLatitudeHeight(){return this.latitudeHi-this.latitudeLo}getLongitudeWidth(){return this.longitudeHi-this.longitudeLo}}class h{constructor(t){this.code=t}getCode(){return this.code}isPadded(){return this.code.indexOf(h.PADDING_CHARACTER_)>=0}static isValid(t){if(!t)return!1;if(-1===t.indexOf(h.SEPARATOR_))return!1;if(t.indexOf(h.SEPARATOR_)!==t.lastIndexOf(h.SEPARATOR_))return!1;if(1===t.length)return!1;if(t.indexOf(h.SEPARATOR_)>h.SEPARATOR_POSITION_||t.indexOf(h.SEPARATOR_)%2==1)return!1;if(t.indexOf(h.PADDING_CHARACTER_)>-1){if(t.indexOf(h.SEPARATOR_)<h.SEPARATOR_POSITION_)return!1;if(0===t.indexOf(h.PADDING_CHARACTER_))return!1;const e=t.match(new RegExp("("+h.PADDING_CHARACTER_+"+)","g"));if(e.length>1||e[0].length%2==1||e[0].length>h.SEPARATOR_POSITION_-2)return!1;if(t.charAt(t.length-1)!==h.SEPARATOR_)return!1}if(t.length-t.indexOf(h.SEPARATOR_)-1==1)return!1;const e=t.replace(new RegExp("\\"+h.SEPARATOR_+"+"),"").replace(new RegExp(h.PADDING_CHARACTER_+"+"),"");for(let i=0,r=e.length;i<r;i++){const t=e.charAt(i).toUpperCase();if(t!==h.SEPARATOR_&&-1===h.CODE_ALPHABET_.indexOf(t))return!1}return!0}static isPadded(t){return new h(t).isPadded()}static isShort(t){return!!h.isValid(t)&&(t.indexOf(h.SEPARATOR_)>=0&&t.indexOf(h.SEPARATOR_)<h.SEPARATOR_POSITION_)}static isFull(t){if(!h.isValid(t))return!1;if(h.isShort(t))return!1;if(h.CODE_ALPHABET_.indexOf(t.charAt(0).toUpperCase())*h.ENCODING_BASE_>=2*h.LATITUDE_MAX_)return!1;if(t.length>1){if(h.CODE_ALPHABET_.indexOf(t.charAt(1).toUpperCase())*h.ENCODING_BASE_>=2*h.LONGITUDE_MAX_)return!1}return!0}contains(t,e){const i=h.decode(this.getCode());return i.latitudeLo<=t&&t<i.latitudeHi&&i.longitudeLo<=e&&e<i.longitudeHi}static encode(t,e,i=h.CODE_PRECISION_NORMAL){if(i<2||i<h.PAIR_CODE_LENGTH_&&i%2==1)throw new Error("IllegalArgumentException: Invalid Open Location Code length");const r=Math.min(h.MAX_DIGIT_COUNT_,i);let s=h.clipLatitude(t);const n=h.normalizeLongitude(e);90===s&&(s-=h.computeLatitudePrecision(r));let o="",a=Math.floor(Math.round((s+h.LATITUDE_MAX_)*h.FINAL_LAT_PRECISION_*1e6)/1e6),_=Math.floor(Math.round((n+h.LONGITUDE_MAX_)*h.FINAL_LNG_PRECISION_*1e6)/1e6);if(r>h.PAIR_CODE_LENGTH_)for(let l=0;l<h.MAX_DIGIT_COUNT_-h.PAIR_CODE_LENGTH_;l++){const t=a%h.GRID_ROWS_,e=_%h.GRID_COLUMNS_,i=t*h.GRID_COLUMNS_+e;o=h.CODE_ALPHABET_.charAt(i)+o,a=Math.floor(a/h.GRID_ROWS_),_=Math.floor(_/h.GRID_COLUMNS_)}else a=Math.floor(a/Math.pow(h.GRID_ROWS_,h.GRID_CODE_LENGTH_)),_=Math.floor(_/Math.pow(h.GRID_COLUMNS_,h.GRID_CODE_LENGTH_));for(let l=0;l<h.PAIR_CODE_LENGTH_/2;l++)o=h.CODE_ALPHABET_.charAt(_%h.ENCODING_BASE_)+o,o=h.CODE_ALPHABET_.charAt(a%h.ENCODING_BASE_)+o,a=Math.floor(a/h.ENCODING_BASE_),_=Math.floor(_/h.ENCODING_BASE_);return o=o.substring(0,h.SEPARATOR_POSITION_)+h.SEPARATOR_+o.substring(h.SEPARATOR_POSITION_),r>=h.SEPARATOR_POSITION_?o.substring(0,r+1):o.substring(0,r)+Array(h.SEPARATOR_POSITION_-r+1).join(h.PADDING_CHARACTER_)+h.SEPARATOR_}static decode(t){if(!h.isFull(t))throw new Error("IllegalArgumentException: Passed Open Location Code is not a valid full code: "+t);const e=t.replace(h.SEPARATOR_,"").replace(new RegExp(h.PADDING_CHARACTER_+h.SEPARATOR_),"").toUpperCase();let i=-h.LATITUDE_MAX_*h.PAIR_PRECISION_,r=-h.LONGITUDE_MAX_*h.PAIR_PRECISION_,s=0,n=0,o=Math.min(e.length,h.PAIR_CODE_LENGTH_),a=h.PAIR_FIRST_PLACE_VALUE_;for(let l=0;l<o;l+=2)i+=h.CODE_ALPHABET_.indexOf(e.charAt(l))*a,r+=h.CODE_ALPHABET_.indexOf(e.charAt(l+1))*a,l<o-2&&(a/=h.ENCODING_BASE_);let _=a/h.PAIR_PRECISION_,u=a/h.PAIR_PRECISION_;if(e.length>h.PAIR_CODE_LENGTH_){let t=h.GRID_LAT_FIRST_PLACE_VALUE_,i=h.GRID_LNG_FIRST_PLACE_VALUE_;o=Math.min(e.length,h.MAX_DIGIT_COUNT_);for(let r=h.PAIR_CODE_LENGTH_;r<o;r++){const a=h.CODE_ALPHABET_.indexOf(e.charAt(r));s+=Math.floor(a/h.GRID_COLUMNS_)*t,n+=a%h.GRID_COLUMNS_*i,r<o-1&&(t/=h.GRID_ROWS_,i/=h.GRID_COLUMNS_)}_=t/h.FINAL_LAT_PRECISION_,u=i/h.FINAL_LNG_PRECISION_}const c=i/h.PAIR_PRECISION_+s/h.FINAL_LAT_PRECISION_,p=r/h.PAIR_PRECISION_+n/h.FINAL_LNG_PRECISION_;return new l(Math.round(1e14*c)/1e14,Math.round(1e14*p)/1e14,Math.round(1e14*(c+_))/1e14,Math.round(1e14*(p+u))/1e14,Math.min(e.length,h.MAX_DIGIT_COUNT_))}static recoverNearest(t,e,i){if(!h.isShort(t)){if(h.isFull(t))return t;throw new Error("ValueError: Passed short code is not valid: "+t)}const r=h.clipLatitude(e),s=h.normalizeLongitude(i),n=t.toUpperCase(),o=h.SEPARATOR_POSITION_-n.indexOf(h.SEPARATOR_),a=Math.pow(20,2-o/2),_=a/2,l=h.decode(h.encode(r,s).substr(0,o)+n);return r+_<l.latitudeCenter&&l.latitudeCenter-a>=-h.LATITUDE_MAX_?l.latitudeCenter-=a:r-_>l.latitudeCenter&&l.latitudeCenter+a<=h.LATITUDE_MAX_&&(l.latitudeCenter+=a),s+_<l.longitudeCenter?l.longitudeCenter-=a:s-_>l.longitudeCenter&&(l.longitudeCenter+=a),h.encode(l.latitudeCenter,l.longitudeCenter,l.codeLength)}static shorten(t,e,i){if(!h.isFull(t))throw new Error("ValueError: Passed code is not valid and full: "+t);if(-1!==t.indexOf(h.PADDING_CHARACTER_))throw new Error("ValueError: Cannot shorten padded codes: "+t);const r=t.toUpperCase(),s=h.decode(r);if(s.codeLength<h.MIN_TRIMMABLE_CODE_LEN_)throw new Error("ValueError: Code length must be at least "+h.MIN_TRIMMABLE_CODE_LEN_);const n=h.clipLatitude(e),o=h.normalizeLongitude(i),a=Math.max(Math.abs(s.latitudeCenter-n),Math.abs(s.longitudeCenter-o));for(let _=h.PAIR_RESOLUTIONS_.length-2;_>=1;_--)if(a<.3*h.PAIR_RESOLUTIONS_[_])return r.substring(2*(_+1));return r}static clipLatitude(t){return Math.min(90,Math.max(-90,t))}static computeLatitudePrecision(t){return t<=10?Math.pow(20,Math.floor(t/-2+2)):Math.pow(20,-3)/Math.pow(h.GRID_ROWS_,t-10)}static normalizeLongitude(t){let e=t;for(;e<-180;)e+=360;for(;e>=180;)e-=360;return e}}h.CODE_PRECISION_NORMAL=10,h.CODE_PRECISION_EXTRA=11,h.MAX_DIGIT_COUNT_=15,h.SEPARATOR_="+",h.SEPARATOR_POSITION_=8,h.PADDING_CHARACTER_="0",h.CODE_ALPHABET_="23456789CFGHJMPQRVWX",h.ENCODING_BASE_=h.CODE_ALPHABET_.length,h.LATITUDE_MAX_=90,h.LONGITUDE_MAX_=180,h.PAIR_CODE_LENGTH_=10,h.PAIR_RESOLUTIONS_=[20,1,.05,.0025,125e-6],h.PAIR_FIRST_PLACE_VALUE_=Math.pow(h.ENCODING_BASE_,h.PAIR_CODE_LENGTH_/2-1),h.PAIR_PRECISION_=Math.pow(h.ENCODING_BASE_,3),h.GRID_CODE_LENGTH_=h.MAX_DIGIT_COUNT_-h.PAIR_CODE_LENGTH_,h.GRID_COLUMNS_=4,h.GRID_ROWS_=5,h.GRID_LAT_FIRST_PLACE_VALUE_=Math.pow(h.GRID_ROWS_,h.GRID_CODE_LENGTH_-1),h.GRID_LNG_FIRST_PLACE_VALUE_=Math.pow(h.GRID_COLUMNS_,h.GRID_CODE_LENGTH_-1),h.FINAL_LAT_PRECISION_=h.PAIR_PRECISION_*Math.pow(h.GRID_ROWS_,h.MAX_DIGIT_COUNT_-h.PAIR_CODE_LENGTH_),h.FINAL_LNG_PRECISION_=h.PAIR_PRECISION_*Math.pow(h.GRID_COLUMNS_,h.MAX_DIGIT_COUNT_-h.PAIR_CODE_LENGTH_),h.MIN_TRIMMABLE_CODE_LEN_=6;
